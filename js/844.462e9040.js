"use strict";(self["webpackChunkfunnietravel"]=self["webpackChunkfunnietravel"]||[]).push([[844],{8745:function(t,e,i){i.d(e,{Z:function(){return _}});var a=i(6252),s=i(3577),r=i(9963);const o={"aria-label":"Page navigation example"},c={class:"pagination justify-content-center"},l=(0,a._)("span",{"aria-hidden":"true"},[(0,a._)("i",{class:"bi bi-caret-left-fill"})],-1),n=[l],g=["onClick"],u=(0,a._)("span",{"aria-hidden":"true"},[(0,a._)("i",{class:"bi bi-caret-right-fill"})],-1),d=[u];function p(t,e,i,l,u,p){return(0,a.wg)(),(0,a.iD)("nav",o,[(0,a._)("ul",c,[(0,a._)("li",{class:(0,s.C_)(["page-item",{disabled:!i.pages.has_pre}])},[(0,a._)("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=(0,r.iM)((t=>p.updatePage(i.pages.current_page-1)),["prevent"]))},n)],2),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.pages.total_pages,(t=>((0,a.wg)(),(0,a.iD)("li",{class:(0,s.C_)(["page-item",{active:t===i.pages.current_page}]),key:t},[(0,a._)("a",{class:"page-link",href:"#",onClick:(0,r.iM)((e=>p.updatePage(t)),["prevent"])},(0,s.zw)(t),9,g)],2)))),128)),(0,a._)("li",{class:(0,s.C_)(["page-item",{disabled:!i.pages.has_next}])},[(0,a._)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=(0,r.iM)((t=>p.updatePage(i.pages.current_page+1)),["prevent"]))},d)],2)])])}var m={props:["pages"],methods:{updatePage(t){this.$emit("emit-pages",t)}}},b=i(3744);const h=(0,b.Z)(m,[["render",p]]);var _=h},1844:function(t,e,i){i.r(e),i.d(e,{default:function(){return Q}});var a=i(6252),s=i(3577);const r=(0,a._)("div",{class:"d-flex justify-content-center align-items-center my-5 position-relative banner banner1 container-fluid"},[(0,a._)("h2",{class:"position-absolute text-center text-white fw-bolder banner-title"},"行程列表")],-1),o={class:"mb-5"},c={class:"container"},l={"aria-label":"breadcrumb",class:"mt-3 mb-md-4 d-flex justify-content-start"},n={class:"breadcrumb"},g={class:"breadcrumb-item"},u=(0,a._)("li",{class:"breadcrumb-item active","aria-current":"page"},"行程列表",-1),d={class:"row my-5"},p={class:"col-lg-3 mb-4 mb-lg-0"},m={class:"list-group text-start"},b=(0,a._)("i",{class:"bi bi-globe me-2"},null,-1),h=(0,a._)("i",{class:"bi bi-globe me-2"},null,-1),_=(0,a._)("i",{class:"bi bi-globe me-2"},null,-1),y=(0,a._)("i",{class:"bi bi-globe me-2"},null,-1),f=(0,a._)("i",{class:"bi bi-globe me-2"},null,-1),v={class:"col-lg-9"},w={class:"row mb-3 mb-lg-4"},k={class:"col-12"},C={class:"text-white fw-bolder fs-1 pt-4 ps-4"},x={class:"text-white fw-bolder fs-5 px-4"},$={class:"row row-cols-1 row-cols-md-2 row-cols-xl-3"},P={class:"card product-card w-100 h-100"},j=["onClick"],D=["src"],I=(0,a._)("span",{class:"seemore-text d-flex justify-content-center align-items-center text-white"},[(0,a._)("i",{class:"bi bi-search pe-1"}),(0,a.Uk)(" 查看更多 ")],-1),L={class:"card-body p-3"},U={class:"d-flex justify-content-start text-primary fw-bold"},T=(0,a._)("i",{class:"bi bi-globe me-2"},null,-1),z={class:"card-title fw-bolder mb-3 text-primary"},N={class:"d-flex justify-content-between align-items-center mb-3"},W={key:0,class:"h5 text-secondary"},Z={key:1,class:"h6 text-secondary"},q={key:2,class:"h5 text-primary fw-bold"},M={class:"card-footer border-0 bg-transparent pt-0 pb-3"},H=["disabled","onClick"],Y={key:0,class:"spinner-border text-primary spinner-border-sm",role:"status"},E=(0,a._)("span",{class:"visually-hidden"},"Loading...",-1),F=[E],G=(0,a._)("i",{class:"bi bi-cart-fill"},null,-1);function K(t,e,i,E,K,O){const R=(0,a.up)("Navbar"),S=(0,a.up)("LoadingVue"),V=(0,a.up)("RouterLink"),A=(0,a.up)("Pagination"),B=(0,a.up)("Footer");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(R),(0,a.Wm)(S,{active:K.isLoading,loader:"dots",color:"#336b87",width:70,height:70},null,8,["active"]),r,(0,a._)("section",o,[(0,a._)("div",c,[(0,a._)("nav",l,[(0,a._)("ol",n,[(0,a._)("li",g,[(0,a.Wm)(V,{to:"/",class:"text-dark hover-nav fw-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)("首頁")])),_:1})]),u])]),(0,a._)("div",d,[(0,a._)("div",p,[(0,a._)("div",m,[(0,a._)("button",{type:"button",class:(0,s.C_)(["list-group-item list-group-item-action fw-bold",{active:"全部"===K.category}]),"aria-current":"true",onClick:e[0]||(e[0]=t=>O.goToCategory("全部"))},[b,(0,a.Uk)(" 全部 ")],2),(0,a._)("button",{type:"button",class:(0,s.C_)(["list-group-item list-group-item-action fw-bold",{active:"峇里島"===K.category}]),onClick:e[1]||(e[1]=t=>O.goToCategory("峇里島"))},[h,(0,a.Uk)(" 峇里島 ")],2),(0,a._)("button",{type:"button",class:(0,s.C_)(["list-group-item list-group-item-action fw-bold",{active:"泰國"===K.category}]),onClick:e[2]||(e[2]=t=>O.goToCategory("泰國"))},[_,(0,a.Uk)(" 泰國 ")],2),(0,a._)("button",{type:"button",class:(0,s.C_)(["list-group-item list-group-item-action fw-bold",{active:"新加坡"===K.category}]),onClick:e[3]||(e[3]=t=>O.goToCategory("新加坡"))},[y,(0,a.Uk)(" 新加坡 ")],2),(0,a._)("button",{type:"button",class:(0,s.C_)(["list-group-item list-group-item-action fw-bold",{active:"馬來西亞"===K.category}]),onClick:e[4]||(e[4]=t=>O.goToCategory("馬來西亞"))},[f,(0,a.Uk)(" 馬來西亞 ")],2)])]),(0,a._)("div",v,[(0,a._)("div",w,[(0,a._)("div",k,[(0,a._)("div",{class:"rounded products-all",style:(0,s.j5)(`\n              background-image: linear-gradient(rgba(0,0,0,0.3),rgba(0,0,0,0.3)),\n              url(${K.categoryIntro[K.category].img});`)},[(0,a._)("h2",C,(0,s.zw)(K.category),1),(0,a._)("p",x,(0,s.zw)(K.categoryIntro[K.category].describe),1)],4)])]),(0,a._)("div",$,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(K.products,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col mb-4",key:e.id},[(0,a._)("div",P,[(0,a.Wm)(V,{class:"",to:`/product/${e.id}`},{default:(0,a.w5)((()=>[(0,a._)("div",{class:"product-img cursor-pointer",onClick:t=>O.getProduct(e.id)},[(0,a._)("img",{src:e.imageUrl,class:"card-img-top object-fit-cover",alt:"allProuctsImages"},null,8,D),I],8,j),(0,a._)("div",L,[(0,a._)("div",U,[(0,a._)("p",null,[T,(0,a.Uk)((0,s.zw)(e.category),1)])]),(0,a._)("h5",z,(0,s.zw)(e.title),1),(0,a._)("div",N,[e.price?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",W,"NTD "+(0,s.zw)(t.$filters.currency(e.origin_price)),1)),e.price?((0,a.wg)(),(0,a.iD)("del",Z,"NTD "+(0,s.zw)(t.$filters.currency(e.origin_price)),1)):(0,a.kq)("",!0),e.price?((0,a.wg)(),(0,a.iD)("div",q," NTD "+(0,s.zw)(t.$filters.currency(e.price)),1)):(0,a.kq)("",!0)])])])),_:2},1032,["to"]),(0,a._)("div",M,[(0,a._)("button",{type:"button",class:"btn btn-outline-primary w-100",disabled:this.status.loadingItem===e.id,onClick:t=>O.addCart(e.id)},[this.status.loadingItem===e.id?((0,a.wg)(),(0,a.iD)("div",Y,F)):(0,a.kq)("",!0),G,(0,a.Uk)(" 加入購物車 ")],8,H)])])])))),128))]),(0,a.Wm)(A,{pages:K.pagination,onEmitPages:O.getProducts},null,8,["pages","onEmitPages"])])])])]),(0,a.Wm)(B)],64)}i(7658);var O=i(4564),R=i(8745),S=i(8520),V={"全部":{name:"全部",describe:"東南亞熱門旅遊的四個國家，泰國、新加坡、馬來西亞、印尼 (峇里島)。",img:"https://i.imgur.com/L80I6O1.jpg"},"峇里島":{name:"峇里島",describe:"是集東南亞神話、藝術、夢幻於一身的南洋島國，也是很熱門的度假勝地。",img:"https://i.imgur.com/r7xGPuL.jpg"},"泰國":{name:"泰國",describe:"擁有「東方威尼斯」美譽的曼谷與被稱為泰國黃金海岸的度假勝地 - 芭達雅。",img:"https://i.imgur.com/r7xGPuL.jpg"},"新加坡":{name:"新加坡",describe:"是東南亞最美麗的花園城市，也是東南亞治安最好的國際都會城市。",img:"https://i.imgur.com/C76pr82.jpg"},"馬來西亞":{name:"馬來西亞",describe:"吉隆坡是一座新舊輝映、東方色彩與西方文明有機融合的新興大都市。",img:"https://i.imgur.com/L80I6O1.jpg"}},A={components:{Navbar:O.Z,Pagination:R.Z,Footer:S.Z},data(){return{product:{},products:[],category:"",categoryIntro:V,pagination:{},isLoading:!1,status:{loadingItem:""}}},inject:["emitter"],watch:{$route(){"products"===this.$route.name&&(this.category=this.$route.params.category,this.getProducts())}},methods:{getProducts(t=1){this.isLoading=!0;let e=`https://vue3-course-api.hexschool.io/api/funnie-api/products?page=${t}`;"全部"!==this.category&&(e="https://vue3-course-api.hexschool.io/api/funnie-api/products/all"),this.$http.get(e).then((e=>{if(e.data.success)if("全部"!==this.category){this.products=e.data.products.filter((t=>t.category===this.category));const i=5,a=Math.ceil(this.products.length/i),s=(t-1)*i,r=t*i;this.products=this.products.slice(s,r),this.pagination={category:null,current_page:t,has_next:t<a,has_pre:1!==t,total_pages:a}}else this.products=e.data.products,this.pagination=e.data.pagination;this.isLoading=!1})).catch((t=>{this.emitter.emit("push-message",{style:"danger",title:`${t.response.data.message}`})}))},goToCategory(t){this.$router.push(`/products/${t}`)},getProduct(t){this.$router.push(`/product/${t}`)},addCart(t){const e="https://vue3-course-api.hexschool.io/api/funnie-api/cart";this.status.loadingItem=t;const i={product_id:t,qty:1};this.$http.post(e,{data:i}).then((t=>{this.$httpMessageState(t,"加入購物車"),this.emitter.emit("update-cart"),this.status.loadingItem=""})).catch((t=>{this.emitter.emit("push-message",{style:"danger",title:`${t.response.data.message}`})}))}},created(){this.category=this.$route.params.category,this.getProducts()}},B=i(3744);const J=(0,B.Z)(A,[["render",K]]);var Q=J}}]);
//# sourceMappingURL=844.462e9040.js.map